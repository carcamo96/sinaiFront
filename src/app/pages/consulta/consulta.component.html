
  <app-page-header
    [titulo]="'Realizar consulta'"
    [icono]="'fas fa-notes-medical'"
    [breadcrumbs]="breads"
  >
  </app-page-header>
  
  <!-- Contenedor de página -->
  <section class="content">
    <div class="container-fluid">
      <ngx-loading-bar
        color="#339942"
        height="2"
        animationTime="0.8"
      ></ngx-loading-bar>
  
      <div class="col-md-12">
        <div class="card card-outline card-primary">
          <div class="card-header">
            <h3 class="card-title">Datos del paciente</h3>
        
          </div>
          <!-- /.card-header -->

            <div class="card-body">
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label>Nombre de paciente: </label>
                    <div class="input-group">
                      <input
                      type="text"
                      class="form-control"
                      name="nombre"
                      value="{{ nomPaciente }}"
                      disabled
                  
                      />
                    </div>
                  </div>
                </div><!--Fin de col-md-4-->
                <div class="col-md-2">
                  <div class="form-group">
                    <label for="genEdad">Edad: </label>
                    <div class="input-group">
                      <input
                      type="text"
                      class="form-control"
                      name="edad"
                      value="{{ edadAnios }}"
                      disabled
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="form-group">
                    <label for="genEdad">Género: </label>
                    <div class="input-group">
                      <input
                      type="text"
                      class="form-control"
                      name="genero"
                      value="{{ genero }}"
                      disabled
                  
                      />
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="numeroExp">N° de expediente: </label>
                    <div class="input-group">
                      <input
                      type="text"
                      class="form-control"
                      name="numeroExp"
                      value="XXXXXXXX-X"
                      disabled
                  
                      />
                    </div>
                  </div>
                </div>
              </div><!--Fin del primer row-->
              
            </div>
            <!-- /.card-body -->
        </div>
        <!-- Fin del card -->
        
        <!-- Inicio de card de tabs -->

        <div class="card card-primary card-tabs">
          <div class="card-header p-0 pt-1">
            <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
              <li class="nav-item">
                <a class="nav-link" id="custom-tabs-one-historial-tab" data-toggle="pill" href="#custom-tabs-one-historial" role="tab" aria-controls="custom-tabs-one-historial" aria-selected="false">Historial clínico</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" id="custom-tabs-one-home-tab" data-toggle="pill" href="#custom-tabs-one-home" role="tab" aria-controls="custom-tabs-one-home" aria-selected="true">Consulta médica</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill" href="#custom-tabs-one-profile" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="false">Receta médica</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="custom-tabs-one-messages-tab" data-toggle="pill" href="#custom-tabs-one-messages" role="tab" aria-controls="custom-tabs-one-messages" aria-selected="false">Estudios de laboratorio</a>
              </li>

              <li class="ml-auto">
                <!-- Aqui van los card tools -->
              </li>
              
            </ul>
            
          </div>
          
          <div class="card-body">
            <div class="tab-content" id="custom-tabs-one-tabContent">
              
              <div class="tab-pane fade" id="custom-tabs-one-historial" role="tabpanel" aria-labelledby="custom-tabs-one-historial-tab">
                Aqui irá el historico de consultas
              </div>
              <div class="tab-pane fade show active" id="custom-tabs-one-home" role="tabpanel" aria-labelledby="custom-tabs-one-home-tab">
                  <app-datos-consulta [ayuda]="ayuda" 
                                      [events]="eventsSubject.asObservable()"
                                      (datosConsulta)="addDatosConsulta($event)">
                  </app-datos-consulta>
              </div>
              <div class="tab-pane fade" id="custom-tabs-one-profile" role="tabpanel" aria-labelledby="custom-tabs-one-profile-tab">
                  <app-receta [ayuda]="ayuda"
                              (recetaMedica)="addRecetaMedica($event)">
                  </app-receta>             
              </div>
              <div class="tab-pane fade" id="custom-tabs-one-messages" role="tabpanel" aria-labelledby="custom-tabs-one-messages-tab">
                  <app-estudios-clinicos [ayuda]="ayuda"
                                         (estudiosMedicos)="addEstudiosDelaboratorio($event)">

                  </app-estudios-clinicos>
              </div>
              
            </div><!--Tabs content-->
          </div><!-- /.fin del card  body-->
          <div class="card-footer">
            <input
              type="submit"
              value="Guardar consulta"
              class="btn btn-primary"
              [disabled]="!adjuntado"
              (click)="onSubmit()"
            />
           
          </div><!--Fin del card-footer-->
        </div><!-- Fin de card de tabs -->
       
      </div>
      <!-- Fin del div de las doce columnas -->
    </div>
    <!-- /.container-fluid -->
  </section>


   <!-- Sweet alerts -->
        <!-- Sweet Confirm -->
        <swal
          #redireccionSwal
          title="Consulta registrada!"
          text="¿Desea regresar a los expedientes?"
          icon="success"
          [showCancelButton]="true"
          confirmButtonText="Si!"
          cancelButtonText="No!"
          confirmButtonColor="#3085d6"
          cancelButtonColor="#bbbbbb"
          [focusCancel]="true"
          (confirm)="redireccionar()"
        >
        </swal>
  
        <!-- Sweet error -->
  
        <swal
          #errorSwal
          title="Error!"
          text="No se pudo realizar el registro"
          icon="error"
          confirmButtonText="Ok"
          confirmButtonColor="#3085d6"
          [focusConfirm]="true"
        >
        </swal>
        <swal
          #msgCompletarConsulta
          title="Error!"
          text="Primero debe proporcionar los datos necesarios de Consulta"
          icon="error"
          confirmButtonText= "Ok"
          confirmButtonColor= "#3085d6"
          [focusConfirm]="true">
        </swal>
  
        <!-- Sweet alerts -->
