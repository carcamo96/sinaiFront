<app-page-header
                 [titulo]="'Nuevo expediente'"
                 [icono]="'fas fa-folder-open'"
                 [breadcrumbs]="breads">

</app-page-header>


<!-- Contenedor de página -->
<section class="content">
    <div class="container-fluid">

        <div class="col-md-12">

            <div class="card card-primary">
                <div class="card-header">
                  <h3 class="card-title">Datos personales</h3>
                </div>
                <!-- /.card-header -->
                <!-- form start -->
                <form role="form" #pacienteForm="ngForm" (ngSubmit)="onSubmit(pacienteForm)">
                  <div class="card-body">
                    <div class="row">

                        <div class="col-md-6">
    
                            <div class="form-group">
                              <label for="nombrePaciente">Nombre</label>
                              <input type="text" class="form-control" name="nombrePaciente"
                                     placeholder="Nombre del paciente"
                                     #nombrePaciente="ngModel" [(ngModel)]="paciente.nombre"
                                     ngxPattern="[a-zA-Z]+" required>
                            </div>
    
                        </div>
            
                        <div class="col-md-6">
                            
                            <div class="form-group">
                                <label for="apellidosPaciente">Apellidos</label>
                                <input type="text" class="form-control" name="apellidoPaciente" 
                                       placeholder="Apellidos del paciente"
                                       #apellidoPaciente="ngModel" [(ngModel)]="paciente.apellidos"
                                       ngxPattern="[a-zA-Z]+" required>
                            </div>
    
                        </div>

                    </div><!-- Fin del primer row -->

                    <div class="row">
                      <div class="col-md-6">

                          <div class="form-group">
                            <label>Fecha de nacimiento:</label>
                              <div class="input-group date">
                                  <div class="input-group-prepend">
                                      <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                                  </div>
                                  <input type="date" class="form-control" min="1995-01-01" max="2030-12-31" 
                                         name="fechaNac" #fechaNac="ngModel" [ngModel]="paciente.fechaNac"
                                         (ngModelChange)="cambioFecha($event)" required>
                              </div>
                          </div>

                      </div>
                      <div class="col-md-6">

                          <div class="form-group">
                            <label for="edad">Edad (Años)</label>
              
                            <input type="text" class="form-control" disabled placeholder="Edad" value="{{ edad }}"
                                   name="edad">
                            
                          </div>
                          
                            
                      </div>

                    </div> <!-- Fin del segundo row -->


                    <div class="row">

                          <div class="col-md-6">
                              <div class="row">
                                  <label>Género: </label>
                              </div>
                              <div class="row">

                                <div class="col-md-2">
                                        
                                  <div class="form-group clearfix">
                                    <div class="icheck-primary d-inline">
                                      <input type="radio" value="M" id="radioPrimary1" name="r1"
                                      #r1="ngModel" [(ngModel)]="paciente.gen">
                                      <label for="radioPrimary1">
                                        Masculino
                                      </label>
                                    </div>
                                  </div>
          
                                </div>
                                <div class="col-md-2"></div>
                                <div class="col-md-2">
          
                                  <div class="icheck-primary d-inline">
                                    <input type="radio" value="F" id="radioPrimary2" name="r1"
                                    #r1="ngModel" [(ngModel)]="paciente.gen">
                                    <label for="radioPrimary2">
                                      Femenino
                                    </label>
                                  </div>
          
                                </div>
                              </div>
                          </div>


                          <div class="col-md-6">
                                <div class="form-group">
                                  <label *ngIf="edad >= 18 || !edad || edad == 0 ">Teléfono:</label>
                                  <label *ngIf="edad < 18 && edad != 0 ">Teléfono del encargado: </label>
                                  <div class="input-group">
                                    <div class="input-group-prepend">
                                      <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                    </div>
                                    <input type="text" class="form-control" placeholder="Teléfono"
                                           name="telefono" #telefono="ngModel" [(ngModel)]="paciente.telefono"
                                           mask="9999-9999" required>
                                  </div>
                                  <!-- /.input group -->
                                </div>
                                
                          </div>

                    </div><!--  Fin del tercer row -->
             

                    <div class="row" *ngIf="edad < 18 && edad!=0 "> <!-- Aqui van los campos adicionales para un menor de edad -->

                      <div class="col-md-6">

                        <div class="form-group">
                          <label for="nombreEncargado">Nombre del padre o encargado</label>
                          <input type="text" class="form-control"
                                 placeholder="Padre o encargado" name="nombreEncargado"
                                 #nombreEncargado="ngModel" [(ngModel)]="paciente.encargado"
                                 ngxPattern="[a-zA-Z]+">
                        </div>

                      </div>

                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="parentesco">Parentesco</label>
                          <input type="text" class="form-control" id="parentesco" 
                                 placeholder="Parentesco" name="parentesco"
                                 #parentesco="ngModel" [(ngModel)]="paciente.parentesco"
                                 ngxPattern="[a-zA-Z]+">
                        </div>
                      </div>

                    </div> <!-- Fin del cuarto row -->


                    <div class="row">

                      <div class="col-md-6">

                        <div class="form-group">
                          <label for="faContacto">Familiar de contacto (*):</label>
                          <input type="text" class="form-control"
                                 placeholder="Familiar de contacto" name="faContacto"
                                 #faContacto="ngModel" [(ngModel)]="paciente.faContacto"
                                 ngxPattern="[a-zA-Z]+">
                        </div>

                      </div>
                      <div class="col-md-6">

                        <div class="form-group">
                          <label>Teléfono del familiar de contacto (*):</label>
        
                          <div class="input-group">
                            <div class="input-group-prepend">
                              <span class="input-group-text"><i class="fas fa-phone"></i></span>
                            </div>
                            <input type="text" class="form-control" name="telFaContacto" placeholder="Teléfono"
                                   #telFaContacto="ngModel" [(ngModel)]="paciente.telFaContacto"
                                   mask="9999-9999">
                          </div>
                          <!-- /.input group -->
                        </div>

                      </div>

                    </div> <!-- Fin del quinto row -->

                    <div class="row">

                        <div class="col-md-12">
                            <!-- textarea -->
                            <div class="form-group">
                                <label>Dirección</label>
                                <textarea id="direccion" class="form-control" rows="3" placeholder="Dirección ..."
                                          name="direccion" #direccion="ngModel" [(ngModel)]="paciente.direccion"
                                          ngxPattern="[a-zA-Z]+" required>
                                </textarea>
                            </div>
                        </div>

                        <div class="col-md-12">
                          <!-- textarea -->
                          <div class="form-group">
                              <label>Datos adicionales (*):</label>
                              <textarea class="form-control" rows="3" placeholder="Otros datos ..."
                                        name="otrosDatos" #otrosDatos="ngModel" [(ngModel)]="paciente.otrosDatos"
                                        ngxPattern="[a-zA-Z]+">

                              </textarea>
                          </div>
                        </div>

                    </div><!-- Fin del sexto row -->


                    <div class="card-footer">

                      <button type="submit" id="crear" class="btn btn-primary">Crear expediente</button>

                      <div class="float-right d-none d-sm-block">
                        <b>Campos opcionales (*)</b> 
                      </div>
                    </div>
                  </div>
                  <!-- /.card-body -->
  
                </form>
            </div><!-- Fin del card -->



        </div><!-- Fin del div de las doce columnas -->

    </div><!-- /.container-fluid -->
</section>